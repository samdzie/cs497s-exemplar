# Service template
This directory serves as a template for creating new services. Feel free
to make a copy and modify it as necessary.


## Pipfile and Pipfile.lock
[pipenv][1] is a program that allows users to create Python virtual
environments and install packages from pip. The advantage is that it
automatically keeps track of dependencies and Python versions, so you
can share code without having to worry that other developers have
installed the same packages and Python versions as you.
This information is recorded in [Pipfile](Pipfile) and
[Pipfile.lock](Pipfile.lock).

### Basic pipenv commands
- `pipenv install` - Create a virtual environment from a Pipfile and
Pipfile.lock in the current directory.
- `pipenv --python 3.8` - Create a new virtual environment using Python
version 3.8.
- `pipenv install [PACKAGE]` - Install a package in the virtual
environment.
- `pipenv uninstall [PACKAGE]` - Uninstall a package.

### Install from Pipfile
To get started using a Pipfile and Pipfile.lock generated by another
developer:

1. Install pipenv, if you have not yet done so: `pip install pipenv`
2. Install dependencies: `pipenv install`

### Using pipenv with VS Code
To use pipenv for VS Code's Python interpreter, follow the below
instructions.

1. In VS Code, press `Ctrl + Shift + P` to open a dropdown menu.
2. Select "Python: Select Interpreter" from the menu.
3. Select the virtual environment interpreter.
    - For example, it may appear as
    "Python 3.8.0 64-bit ('template-9m8Lz9_6': venv)"

## Dockerfile
[Docker][2] is a tool for creating containers, which are essentially
lightweight virtual machines. Containers make it easy to ensure that
code works the same regardless of the physical machine it is being run
on. [Dockerfile](Dockerfile) is the file used to create a Docker
container. Detailed documentation can be found [here][3]. The template
Dockerfile in this directory contains annotations explaining what each
command does.

### Build a Docker container
Run the following commands to build and run a Docker container from the
Dockerfile in the current directory. Replace `template` with a more
descriptive tag for your service.

1. Install and start [Docker][2], if you have not yet done so.
2. Run `docker build -t template .`
3. Run `docker run -dp 5000:5000 template`
    - Alternatively, run `docker run --volumes-from [NAME] -dp 5000:5000
    template` to use the same volumes as the container with name
    `[NAME]`.
    - A container's name can be viewed by running `docker container ls`,
    listed under the "NAMES" column. It is usually in the form of two
    random words (e.g., exciting_wright, fervent_nightingale).


[1]: https://pypi.org/project/pipenv/
[2]: https://www.docker.com/
[3]: https://docs.docker.com/engine/reference/builder/
